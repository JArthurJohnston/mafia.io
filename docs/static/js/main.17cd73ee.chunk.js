(this["webpackJsonpmafia.io"]=this["webpackJsonpmafia.io"]||[]).push([[0],{136:function(e,t,l){e.exports=l(345)},141:function(e,t,l){},142:function(e,t,l){},171:function(e,t){},176:function(e,t,l){},23:function(e){e.exports=JSON.parse("[[6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,2,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,6,1,1,1,1,1,1,5,0,0,0,0,0,0,6,1,1,1,1,1,1,1,1,1,5,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,2,0,0,0,0,0,0,2,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,4,5,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,2,0,0,0,0,0,0,2,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,4,5,5,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,2,0,0,0,0,0,0,2,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,4,3,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,2,5,0,0,0,0,0,2,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,4,3,0,0,0,0,0,2,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,4,1,1,1,1,1,1,3,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,6,5,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,1,1,1,5,0,0,0,0,0,0,0,0,0,0,4,5,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,4,5,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,4,1,1,1,1,1,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,1,1,1,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,1,1,1,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,5,0,0,0,6,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,3,0,0,0,4,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,6,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,1,1,1,1,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,1,1,1,1,1,1,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,6,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,6,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,6,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,6,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,6,3,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,1,1,3,0,0,0,0,6,1,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,6,3,0,0,0,0,0,0,0,0,0,0,0,0,0,4,3,0,0,0,0,0,0,0,0,4,3,4,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,6,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,5,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,6,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,5,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,6,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,5,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,6,2,0,0,0,0,0,0,0,0,2,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,5,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,4,3,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,5,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,6,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,6,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,1,1,1,5,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,6,3,0,0,0,0,0,0,0,0,0,0,0,0,0,6,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,3,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,6,3,0,0,0,0,0,0,0,0,0,0,6,1,1,1,1,3,0,0,0,6,1,1,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,6,3,0,0,0,0,0,0,0,0,0,0,0,4,3,0,0,0,0,0,0,0,4,3,0,4,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,6,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,5,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,6,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,5,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,6,1,1,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,5,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,4,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,5,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,1,1,1,1,5,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,5,0,0,0,0,6,1,1,1,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,3,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,3,0,4,3,0,0,0,0,4,3,0,0,4,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,3,0,0,0,0,0,0,0,0,0,0,0,0,0,4,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,6,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,6,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,6,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3]]")},341:function(e,t,l){},342:function(e,t,l){},345:function(e,t,l){"use strict";l.r(t);var n,a,i=l(0),u=l.n(i),r=l(127),s=l.n(r),o=(l(141),l(142),l(131)),h=l(24),c=l(1),d=l(2),f=l(5),v=l(4),y=l(10),p=l(6);function g(e,t,l,n){return Math.sqrt(Math.pow(l-e,2)+Math.pow(n-t,2))}function w(e){return e*Math.PI/180}function m(e,t,l,n){return Math.atan2(l-e,-1*(n-t))}var k=40,b=40;function O(e){return new Promise((function(t,l){(n=new Image).onload=function(){return function(e,t){(a=document.createElement("canvas")).width=460,a.height=80;var l=a.getContext("2d");l.imageSmoothingEnabled=!1,l.drawImage(e,0,0,20,20,0,0,40,40),l.save(),l.translate(40,0),l.drawImage(e,20,0,20,20,0,0,40,40),l.restore(),l.save(),l.translate(80,0),l.drawImage(e,80,0,20,20,0,0,20,20),l.restore(),l.save(),l.translate(100,0),l.drawImage(e,40,0,20,20,0,0,40,40),l.restore(),l.save(),l.translate(180,0),l.rotate(w(90)),l.drawImage(e,40,0,20,20,0,0,40,40),l.restore(),l.save(),l.translate(180,0),l.drawImage(e,60,0,20,20,0,0,40,40),l.restore(),l.save(),l.translate(260,0),l.rotate(w(90)),l.drawImage(e,60,0,20,20,0,0,40,40),l.restore(),l.save(),l.translate(260,40),l.rotate(w(-90)),l.drawImage(e,60,0,20,20,0,0,40,40),l.restore(),l.save(),l.translate(340,40),l.rotate(w(180)),l.drawImage(e,60,0,20,20,0,0,40,40),l.restore(),l.save(),l.translate(80,20),l.drawImage(e,0,20,20,20,0,0,20,20),l.restore(),l.save(),l.translate(340,0),l.drawImage(e,20,20,20,20,0,0,20,20),l.restore(),l.save(),l.translate(360,0),l.drawImage(e,40,20,20,20,0,0,40,40),l.restore(),l.save(),l.translate(400,0),l.drawImage(e,60,20,20,20,0,0,20,20),l.restore(),l.save(),l.translate(400,20),l.drawImage(e,80,20,20,20,0,0,20,20),l.restore(),l.save(),l.translate(420,0),l.drawImage(e,0,40,20,20,0,0,20,20),l.restore(),l.save(),l.translate(420,20),l.drawImage(e,20,40,20,20,0,0,20,20),l.restore(),l.save(),l.translate(440,0),l.drawImage(e,40,40,20,20,0,0,20,20),l.restore(),t(a)}(n,t)},n.onerror=l,n.src=e}))}function C(e,t,l){e.drawImage(a,40,0,40,40,t,l,40,40)}var j=[{x:400,y:0},{x:400,y:20},{x:420,y:0},{x:420,y:20},{x:440,y:0}];var x=2*Math.PI,A=window.innerHeight,E=window.innerWidth,M={height:A,width:E,center:{x:E/2,y:A/2}},I=function(){function e(t,l,n){Object(c.a)(this,e),this.layers=t,this.windowHeight=n,this.windowWidth=l,this.layer="default",this.setupCanvases(t)}return Object(d.a)(e,[{key:"setupCanvases",value:function(e){for(var t=Object.keys(e).length,l=0;l<t;l++)this.getContext(Object.keys(e)[l]).imageSmoothingEnabled=!1}},{key:"getContext",value:function(){return this.layers[this.layer].getContext("2d")}},{key:"drawText",value:function(e,t,l){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"white",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"30px Arial";this.getContext().fillStyle=n,this.getContext().font=a,this.getContext().fillText(l,e,t)}},{key:"setLayer",value:function(e){this.layer=e}},{key:"setTransparency",value:function(e){this.getContext().globalAlpha=e}},{key:"setShadow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgba(0,0,0,0.5)";this.getContext().shadowColor=t,this.getContext().shadowBlur=e}},{key:"drawCircle",value:function(e,t,l,n){this.getContext().fillStyle=n,this.getContext().beginPath(),this.getContext().arc(e,t,l,0,x),this.getContext().fill(),this.getContext().stroke()}},{key:"drawLine",value:function(e,t,l,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"cyan";this.getContext().strokeStyle=a,this.getContext().beginPath(),this.getContext().moveTo(e,t),this.getContext().lineTo(l,n),this.getContext().stroke()}},{key:"clear",value:function(){this.getContext().clearRect(0,0,E,A)}},{key:"rotate",value:function(e){this.getContext().rotate(e)}},{key:"restore",value:function(){this.getContext().restore(),this.layer="default"}},{key:"save",value:function(){this.getContext().save()}},{key:"translate",value:function(e,t){this.getContext().translate(e,t)}},{key:"drawRect",value:function(e,t,l,n,a){this.getContext().fillStyle=a,this.getContext().beginPath(),this.getContext().rect(e,t,l,n),this.getContext().fill()}},{key:"drawSquare",value:function(e,t,l,n){this.drawRect(e,t,l,l,n)}},{key:"drawSprite",value:function(e,t,l,n,a){this.getContext().drawImage(e,t,l,n,a)}},{key:"drawBackground",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.getContext().drawImage(e,t,l)}},{key:"drawPlayer",value:function(e,t){!function(e,t,l){e.drawImage(a,0,0,k,b,t,l,k,b)}(this.getContext(),e,t)}},{key:"drawBullet",value:function(e,t){!function(e,t,l){e.drawImage(a,80,0,20,20,t,l,20,20)}(this.getContext(),e,t)}},{key:"drawBadge",value:function(e,t){!function(e,t,l){e.drawImage(a,340,0,20,20,t,l,20,20)}(this.getContext(),e,t)}},{key:"drawSkull",value:function(e,t){!function(e,t,l){e.drawImage(a,80,20,20,20,t,l,20,20)}(this.getContext(),e,t)}},{key:"drawAmmo",value:function(e,t){!function(e,t,l){e.drawImage(a,360,0,40,40,t,l,40,40)}(this.getContext(),e,t)}},{key:"drawExplosion",value:function(e,t,l){!function(e,t,l,n){e.drawImage(a,j[n].x,j[n].y,20,20,t,l,20,20)}(this.getContext(),e,t,l)}}]),e}();var S=l(128),Y=l.n(S),X={offsetX:0,offsetY:0,name:"BASE_PARENT"};var P=function(){function e(){Object(c.a)(this,e),this.localX=0,this.localY=0,this.parent=X,this.children=[]}return Object(d.a)(e,[{key:"startLoop",value:function(e){this.start(e),this.children.forEach((function(t){t.startLoop(e)}))}},{key:"updateLoop",value:function(e){this.update(e),this.children.forEach((function(t){t.updateLoop(e)}))}},{key:"renderLoop",value:function(e,t){this.render(e,t),this.children.forEach((function(l){l.renderLoop(e,t)}))}},{key:"addChild",value:function(e){return e.parent=this,this.children.push(e),this}},{key:"removeChild",value:function(e){Y.a.remove(this.children,(function(t){return t===e}))}},{key:"spawn",value:function(e){this.addChild(e),e.start()}},{key:"destroy",value:function(){this.parent.removeChild(this)}},{key:"start",value:function(){}},{key:"update",value:function(e){}},{key:"render",value:function(e,t){}},{key:"name",get:function(){return"GameObject"}},{key:"offsetX",get:function(){return this.localX+this.parent.offsetX}},{key:"offsetY",get:function(){return this.localY+this.parent.offsetY}}]),e}(),D=l(18),B=l(23),T=[C,function(e,t,l){e.drawImage(a,100,0,40,40,t,l,40,40)},function(e,t,l){e.drawImage(a,140,0,40,40,t,l,40,40)},function(e,t,l){e.drawImage(a,180,0,40,40,t,l,40,40)},function(e,t,l){e.drawImage(a,220,0,40,40,t,l,40,40)},function(e,t,l){e.drawImage(a,260,0,40,40,t,l,40,40)},function(e,t,l){e.drawImage(a,300,0,40,40,t,l,40,40)}],R=40;function L(e,t,l,n){for(var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:R,i=0;i<t.length;i++)for(var u=t[i],r=0;r<u.length;r++){var s=u[r],o=r*a+l/2,h=i*a+n/2;C(e,o,h),s>0&&T[s](e,o,h)}}function z(e){var t={};t.value=e,t.isDown=!1,t.isUp=!0,t.press=void 0,t.release=void 0,t.downHandler=function(e){e.key===t.value&&(t.isUp&&t.press&&t.press(),t.isDown=!0,t.isUp=!1,e.preventDefault())},t.upHandler=function(e){e.key===t.value&&(t.isDown&&t.release&&t.release(),t.isDown=!1,t.isUp=!0,e.preventDefault())};var l=t.downHandler.bind(t),n=t.upHandler.bind(t);return window.addEventListener("keydown",l,!1),window.addEventListener("keyup",n,!1),t.unsubscribe=function(){window.removeEventListener("keydown",l),window.removeEventListener("keyup",n)},t}var H=l(129),F=l.n(H),W=new(function(){function e(){Object(c.a)(this,e)}return Object(d.a)(e,[{key:"init",value:function(e){var t=this;this.updateCallbacks=[],this.playerReceived=!1,this.dispatchUpdates=this.dispatchUpdates.bind(this),this.socket=F()(e),this.socket.on("connected",(function(){return t.addPlayer()})),this.socket.on("playerReceived",(function(){return t.playerReceived=!0})),this.socket.on("state_of_the_world",this.dispatchUpdates)}},{key:"addPlayer",value:function(){this.socket.emit("playerAdded",{x:J.player.offsetX,y:J.player.offsetY,name:J.player.name})}},{key:"playerMoved",value:function(e,t,l){this.socket.emit("playerMoved",{x:e,y:t,name:l})}},{key:"onPlayerAdded",value:function(e){this.socket.on("frenemyAdded",(function(t){t.name!==J.player.name&&e(t)}))}},{key:"onBulletFired",value:function(e){console.log("bullet callback registered"),this.socket.on("bulletReceived",(function(t){console.log("new bullet ".concat(t)),e(t)}))}},{key:"dispatchUpdates",value:function(e){for(var t=0;t<this.updateCallbacks.length;t++)this.updateCallbacks[t](e)}},{key:"onUpdate",value:function(e){this.updateCallbacks.push(e)}},{key:"spawnBullet",value:function(e,t,l){this.socket.emit("bulletFired",{x:e,y:t,angle:l})}}]),e}()),U=l(130),Q=l.n(U),Z=function(){function e(){Object(c.a)(this,e),this.map=new G,this.player={x:20,y:22,offsetX:0,offsetY:0,direction:0,ammo:6,isReloading:!1,name:Q()()},this.otherPlayers=[new K("RagnarRoog",1040+M.center.x,1040+M.center.y)],this.bullets={}}return Object(d.a)(e,[{key:"updatePlayerPosition",value:function(e,t){this.player.offsetX=-e,this.player.offsetY=-t;var l=this.map.playerPosition(e,t),n=Object(D.a)(l,2),a=n[0],i=n[1];this.player.x=a,this.player.y=i,W.playerMoved(this.player.offsetX,this.player.offsetY,this.player.name)}}]),e}(),G=function(){function e(){Object(c.a)(this,e),this.tiles=B,this.tileSize=40,this.offsets={x:0,y:0}}return Object(d.a)(e,[{key:"tileAt",value:function(e,t){return this.tiles[t][e]}},{key:"playerTile",value:function(e,t){var l=this.playerPosition(e,t),n=Object(D.a)(l,2),a=n[0],i=n[1];return this.tileAt(a,i)}},{key:"playerPosition",value:function(e,t){return this.offsets.x=e,this.offsets.y=t,[Math.floor(-e/this.tileSize),Math.floor(-t/this.tileSize)]}},{key:"tileFromScreenSpace",value:function(e,t){var l=Math.floor((M.center.x-e)/this.tileSize),n=Math.floor((M.center.y-t)/this.tileSize),a=N.player.y-n,i=N.player.x-l;return a<0||a>this.height||i<0||i>this.width?-1:new V(i,a,this.tileAt(i,a))}},{key:"width",get:function(){return this.tiles[0].length}},{key:"height",get:function(){return this.tiles.length}}]),e}(),V=function(){function e(t,l,n){Object(c.a)(this,e),this.index=n,this.position={x:t,y:l}}return Object(d.a)(e,[{key:"hit",value:function(){}}]),e}(),q={ALIVE:"ALIVE",DEAD:"DEAD"},K=function(){function e(t,l,n){Object(c.a)(this,e),this.state=q.ALIVE,this.name=t,this.x=l,this.y=n}return Object(d.a)(e,[{key:"hit",value:function(){this.state=q.DEAD}}]),e}(),N=new Z,J=N,_=new(function(){function e(){Object(c.a)(this,e),this.x=0,this.y=0,this.clickHandlers=[],this.init=this.init.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleClick=this.handleClick.bind(this),this.addClickHandler=this.addClickHandler.bind(this)}return Object(d.a)(e,[{key:"init",value:function(){document.onmousemove=this.handleMouseMove}},{key:"handleMouseMove",value:function(e){this.x=e.pageX,this.y=e.pageY}},{key:"handleClick",value:function(e){this.clickHandlers.forEach((function(t){t(e.clientX,e.clientY)}))}},{key:"addClickHandler",value:function(e){this.clickHandlers.push(e)}}]),e}()),$=function(e){function t(e,l){var n;return Object(c.a)(this,t),(n=Object(f.a)(this,Object(v.a)(t).call(this))).localX=e,n.localY=l,n.frameIndex=0,n.frameCount=4,n}return Object(p.a)(t,e),Object(d.a)(t,[{key:"update",value:function(e){this.frameIndex>=this.frameCount&&this.parent.removeChild(this),this.frameIndex++}},{key:"render",value:function(e){e.save(),e.translate(Math.floor(this.offsetX-10),Math.floor(this.offsetY-10)),e.drawExplosion(0,0,this.frameIndex),e.restore()}},{key:"name",get:function(){return"Explosion"}}]),t}(P);function ee(e,t,l,n){var a=Math.abs(n,-t)>Math.abs(l,e);if(a){var i=e;e=t,t=i,i=l,l=n,n=i}if(e>l){var u=e;e=l,l=u,u=t,t=n,n=u}for(var r=l-e,s=Math.abs(n-t),o=t<n?1:-1,h=[],c=0,d=t,f=e;f<=l;f++)a?h.push([Math.floor(d),Math.floor(f)]):h.push([Math.floor(f),Math.floor(d)]),2*(c+=s)>=r&&(d+=o,c-=r);return h}var te=1;function le(e,t){var l=N.map.tileFromScreenSpace(e,t);return 0!==l.index?l:null}var ne=function e(t,l,n){Object(c.a)(this,e),this.object=t,this.position={x:l,y:n}};function ae(e,t){for(var l=0;l<N.otherPlayers.length;l++){var n=N.otherPlayers[l];if(g(e,t,n.x+N.map.offsets.x,n.y+N.map.offsets.y)<=50)return n}return null}var ie=w(180),ue=function(e){function t(e,l,n,a){var i;return Object(c.a)(this,t),(i=Object(f.a)(this,Object(v.a)(t).call(this))).prevX=e,i.prevY=l,i.localX=e,i.localY=l,i.distance=0,i.angle=n-ie,i.id=a,i}return Object(p.a)(t,e),Object(d.a)(t,null,[{key:"fire",value:function(e,l,n){var a=-(e-M.center.x),i=-(l-M.center.y),u="".concat(J.player.name,":").concat(Date.now);return W.spawnBullet(-e,-l,n,u),new t(a,i,n,u)}}]),Object(d.a)(t,[{key:"start",value:function(){J.bullets[this.id]=this,this.maxDistance=1e3,this.size=6,this.speed=20}},{key:"update",value:function(e){if(this.distance+=this.speed*e,this.distance>this.maxDistance)this.explode(this.localX,this.localY);else{var t=function(e,t,l,n,a){var i=Math.sin(a),u=Math.cos(a);return[(l-=e)*u+-(n-=t)*i+e,l*i+n*u+t]}(this.localX,this.localY,this.localX,this.localY+this.speed*e,this.angle),l=Object(D.a)(t,2),n=l[0],a=l[1];this.prevX=this.offsetX,this.prevY=this.offsetY,this.localX=Math.floor(n),this.localY=Math.floor(a);var i=function(e,t,l,n){for(var a=ee(e,t,l,n),i=0;i<a.length;i+=te){var u=Object(D.a)(a[i],2),r=u[0],s=u[1],o=le(r,s);if(null!==o)return new ne(o,r,s);var h=ae(r,s);if(null!==h)return new ne(h,r,s)}}(this.prevX,this.prevY,this.offsetX,this.offsetY);i&&(i.object.hit(),this.explode(this.localX,this.localY))}}},{key:"explode",value:function(e,t){delete J.bullets[this.id],this.parent.spawn(new $(e,t)),this.destroy()}},{key:"render",value:function(e){e.setLayer("players"),e.save(),e.translate(this.offsetX,this.offsetY),e.rotate(this.angle+ie),e.drawBullet(0,0),e.restore()}},{key:"name",get:function(){return"Bullet"}}]),t}(P),re=z("w"),se=z("a"),oe=z("s"),he=z("d"),ce=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(f.a)(this,Object(v.a)(t).call(this))).handleMouseClick=e.handleMouseClick.bind(Object(y.a)(e)),e}return Object(p.a)(t,e),Object(d.a)(t,[{key:"start",value:function(){this.speed=5,this.cachedBackground=function(){var e=document.createElement("canvas"),t=e.getContext("2d",{alpha:!1}),l=B[0].length*R,n=B.length*R,a=window.innerHeight,i=window.innerWidth;return e.width=l+i,e.height=n+a,t.fillStyle="black",t.beginPath(),t.rect(0,0,e.width,e.height),t.fill(),t.stroke(),t.save(),L(t,B,i,a),e}(),_.addClickHandler(this.handleMouseClick),this.localX=-N.player.x*N.map.tileSize,this.localY=-N.player.y*N.map.tileSize,N.updatePlayerPosition(this.localX,this.localY)}},{key:"update",value:function(e){var t=this.handleKeyboardInput(e),l=Object(D.a)(t,2),n=l[0],a=l[1];0===n&&0===a||(this.canMoveVertically(a)&&(this.localY+=Math.floor(a)),this.canMoveHorizontally(n)&&(this.localX+=Math.floor(n)),N.updatePlayerPosition(this.localX,this.localY))}},{key:"canMoveVertically",value:function(e){return 0===N.map.playerTile(this.offsetX,this.offsetY+e)}},{key:"canMoveHorizontally",value:function(e){return 0===N.map.playerTile(this.offsetX+e,this.offsetY)}},{key:"handleMouseClick",value:function(e,t){if(N.player.ammo>0&&!N.player.isReloading){N.player.ammo-=1;var l=m(M.center.x,M.center.y,e,t);this.spawn(ue.fire(this.offsetX,this.offsetY,l))}}},{key:"render",value:function(e){e.drawBackground(this.cachedBackground,this.offsetX,this.offsetY)}},{key:"handleKeyboardInput",value:function(e){var t=0,l=0;return re.isDown&&(l+=this.speed*e),oe.isDown&&(l-=this.speed*e),se.isDown&&(t+=this.speed*e),he.isDown&&(t-=this.speed*e),[t,l]}},{key:"name",get:function(){return"Level"}}]),t}(P),de={BYSTANDER:"BYSTANDER",MAFIA:"MAFIA",DETECTIVE:"DETECTIVE"},fe=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(f.a)(this,Object(v.a)(t).call(this))).width=40,e.midpoint=e.width/2,e.state=de.BYSTANDER,e}return Object(p.a)(t,e),Object(d.a)(t,[{key:"start",value:function(){this.state=Object.values(de)[Math.floor(3*Math.random())],this.localX=M.center.x,this.localY=M.center.y}},{key:"render",value:function(e){e.setLayer("players"),e.drawText(this.offsetX-50,this.offsetY-25,J.player.name,"cyan","15px arial"),e.drawPlayer(Math.floor(this.offsetX-this.midpoint),Math.floor(this.offsetY-this.midpoint)),this.state===de.MAFIA&&e.drawSkull(Math.floor(this.offsetX+10),Math.floor(this.offsetY+10)),this.state===de.DETECTIVE&&e.drawBadge(Math.floor(this.offsetX+10),Math.floor(this.offsetY+10)),e.restore()}},{key:"name",get:function(){return"Player"}}]),t}(P),ve=w(134),ye=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(f.a)(this,Object(v.a)(t).call(this))).fovDistance=1e3,e}return Object(p.a)(t,e),Object(d.a)(t,[{key:"start",value:function(){this.localX=M.center.x,this.localY=M.center.y,this.lookX=0,this.lookY=0,this.angle=0}},{key:"update",value:function(e){this.angle=m(this.offsetX,this.offsetY,_.x,_.y),N.player.direction=this.angle}},{key:"render",value:function(e){e.save(),e.translate(this.offsetX,this.offsetY),e.setTransparency(.8),e.rotate(this.angle-ve),e.drawRect(-e.windowWidth,Math.floor(-1.5*e.windowWidth/2),e.windowWidth,Math.floor(1.5*e.windowWidth),"black"),e.drawRect(-0,-e.windowWidth,e.windowWidth,e.windowWidth,"black"),e.restore()}},{key:"name",get:function(){return"FieldOfVison"}}]),t}(P),pe=z("r"),ge=function(e){function t(){return Object(c.a)(this,t),Object(f.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"start",value:function(){this.localY=M.height-75,this.localX=25,this.reloadTime=0}},{key:"update",value:function(e){pe.isDown&&(J.player.isReloading=!0),this.handleReload(e)}},{key:"handleReload",value:function(e){J.player.isReloading&&(J.player.ammo<6?(this.reloadTime>=25&&(J.player.ammo+=1,this.reloadTime=0),this.reloadTime+=e):J.player.isReloading=!1)}},{key:"render",value:function(e){e.setLayer("ui"),e.setTransparency(.15),e.drawRect(this.offsetX,this.offsetY,192,40,"black"),e.setTransparency(1);for(var t=0;t<J.player.ammo;t++)e.drawAmmo(this.offsetX+30*t,this.offsetY);e.restore()}}]),t}(P),we=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(f.a)(this,Object(v.a)(t).call(this))).dotSize=2,e}return Object(p.a)(t,e),Object(d.a)(t,[{key:"start",value:function(){this.image=this.renderMiniMap(),this.localX=M.width-125,this.localY=M.height-125}},{key:"render",value:function(e){e.setLayer("ui"),e.save(),e.translate(this.offsetX,this.offsetY),e.drawSprite(this.image,0,0,this.image.width,this.image.height),e.drawRect(this.dotSize*J.player.x,this.dotSize*J.player.y,4,4,"magenta"),e.restore()}},{key:"renderMiniMap",value:function(){var e=J.map,t=document.createElement("canvas");t.width=e.width*this.dotSize,t.height=e.height*this.dotSize;for(var l=t.getContext("2d"),n=0;n<e.height;n++)for(var a=0;a<e.width;a++)0===e.tileAt(a,n)?me(l,a*this.dotSize,n*this.dotSize,this.dotSize,this.dotSize,"black"):me(l,a*this.dotSize,n*this.dotSize,this.dotSize,this.dotSize,"green");return t}},{key:"name",get:function(){return"MiniMap"}}]),t}(P);function me(e,t,l,n,a,i){e.fillStyle=i,e.beginPath(),e.rect(t,l,n,a),e.fill()}var ke=Math.floor(.15*M.height),be=function(e){function t(){return Object(c.a)(this,t),Object(f.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"start",value:function(){this.rendered=!1}},{key:"render",value:function(e){this.rendered||(e.setLayer("ui"),e.drawRect(0,0,M.width,ke,"black"),e.drawRect(0,M.height-ke,M.width,ke,"black"),e.restore(),this.rendered=!0)}}]),t}(P),Oe=w(-45),Ce=w(45),je=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(f.a)(this,Object(v.a)(t).call(this))).playerMap={},e.addPlayer=e.addPlayer.bind(Object(y.a)(e)),W.onPlayerAdded(e.addPlayer),e.localX=M.center.x,e.localY=M.center.y,e}return Object(p.a)(t,e),Object(d.a)(t,[{key:"start",value:function(){this.spawn(new xe)}},{key:"addPlayer",value:function(e){this.spawn(new Ae(e))}},{key:"name",value:function(){return"OtherPlayers"}}]),t}(P),xe=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(f.a)(this,Object(v.a)(t).call(this))).addBullet=e.addBullet.bind(Object(y.a)(e)),e}return Object(p.a)(t,e),Object(d.a)(t,[{key:"start",value:function(){W.onBulletFired(this.addBullet)}},{key:"addBullet",value:function(e){var t=e.x,l=e.y,n=e.id,a=e.angle;J.bullets[n]||this.spawn(new ue(t,l,a,n))}}]),t}(P),Ae=function(e){function t(e){var l;return Object(c.a)(this,t),(l=Object(f.a)(this,Object(v.a)(t).call(this))).player=e,l.playerUpdated=l.playerUpdated.bind(Object(y.a)(l)),W.onUpdate(l.playerUpdated),l}return Object(p.a)(t,e),Object(d.a)(t,[{key:"name",value:function(){return"Frenemy"}},{key:"playerUpdated",value:function(e){var t=e.playerMap[this.player.name];this.player=t,this.localX=t.x,this.localY=t.y}},{key:"updatePosition",value:function(){this.localX=this.player.x,this.localY=this.player.y}},{key:"start",value:function(){this.updatePosition()}},{key:"visibleToPlayer",value:function(){var e=function(e,t,l,n,a,i){var u=g(e,t,l,n),r=g(e,t,a,i),s=g(l,n,a,i);return Math.acos((u*u+r*r-s*s)/(2*u*r))}(M.center.x,M.center.y,this.offsetX,this.offsetY,_.x,_.y),t=g(this.offsetX,this.offsetY,M.center.x,M.center.y);return e>Oe&&e<Ce||t<=70}},{key:"render",value:function(e){this.visibleToPlayer()&&(e.setLayer("players"),e.drawText(this.offsetX-50,this.offsetY-25,this.player.name,"red","15px arial"),e.drawRect(this.offsetX-20,this.offsetY-20,40,40,this.color),e.restore())}},{key:"color",get:function(){return this.player.state===q.ALIVE?"cyan":"white"}}]),t}(P),Ee=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(f.a)(this,Object(v.a)(t).call(this))).layer="default",e}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(e){e.setLayer(this.layer),e.clear(),e.restore()}}]),t}(P);var Me=l(49),Ie=l.n(Me),Se=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(f.a)(this,Object(v.a)(t).call(this))).lastFrameTime=0,e.loop=e.loop.bind(Object(y.a)(e)),W.init("http://localhost:3001"),e.game=function(){(new Ee).layer="debug";var e=(new be).addChild(new ge).addChild(new we),t=(new ce).addChild(new je),l=new Ee;return l.layer="players",(new P).addChild(l).addChild(t).addChild(new fe).addChild(new ye).addChild(e)}(),e}return Object(p.a)(t,e),Object(d.a)(t,[{key:"loop",value:function(e){var t=1e3/30/(e-this.lastFrameTime);this.game.updateLoop(t),this.game.renderLoop(this.graphics,t),this.lastFrameTime=e,requestAnimationFrame(this.loop)}},{key:"componentDidMount",value:function(){var e=this,t={default:this.refs.defaultCanvas,fov:this.refs.fovCanvas,players:this.refs.playerCanvas,ui:this.refs.uiCanvas,debug:this.refs.debugCanvas};this.refs.debugCanvas.addEventListener("contextmenu",(function(e){return e.preventDefault()})),this.graphics=new I(t,M.width,M.height),this.graphics.drawText(M.width/2,M.height/2,"LOADING...","white"),_.init(),O(Ie.a).then((function(){e.game.startLoop(e.graphics),requestAnimationFrame(e.loop)}))}},{key:"render",value:function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement("canvas",{ref:"defaultCanvas",width:M.width,height:M.height}),u.a.createElement("canvas",{ref:"fovCanvas",width:M.width,height:M.height}),u.a.createElement("canvas",{ref:"playerCanvas",width:M.width,height:M.height}),u.a.createElement("canvas",{ref:"uiCanvas",width:M.width,height:M.height}),u.a.createElement("canvas",{ref:"debugCanvas",width:M.width,height:M.height,onClick:_.handleClick}))}}]),t}(i.Component),Ye=l(134),Xe=l(135),Pe=(l(176),function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(f.a)(this,Object(v.a)(t).call(this))).state={tiles:B,images:[],currentBrush:1},e.handlePaint=e.handlePaint.bind(Object(y.a)(e)),e.updateBrush=e.updateBrush.bind(Object(y.a)(e)),e.saveMap=e.saveMap.bind(Object(y.a)(e)),e}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;O(Ie.a).then((function(){e.renderTiles(),T.forEach((function(t){var l=document.createElement("canvas");l.width=N.map.tileSize,l.height=N.map.tilesize,l.className="brush",l.onclick=function(){e.updateBrush(T.indexOf(t))},t(l.getContext("2d"),0,0),e.refs.pallet.appendChild(l)}))}))}},{key:"updateBrush",value:function(e){this.setState(Object(Xe.a)({},this.state,{currentBrush:e}))}},{key:"renderTiles",value:function(){L(this.refs.levelCanvas.getContext("2d"),this.state.tiles,0,0)}},{key:"componentDidUpdate",value:function(){this.renderTiles()}},{key:"handlePaint",value:function(e){var t=e.pageX,l=e.pageY,n=this.refs.levelCanvas,a=n.offsetLeft,i=n.offsetTop,u=n.offsetWidth/52,r=Math.floor([(t-a)/u]),s=Math.floor([(l-i)/u]),o=Object(Ye.a)(this.state.tiles);o[s][r]=this.state.currentBrush,this.setState({tiles:o})}},{key:"saveMap",value:function(){console.log(this.state.tiles)}},{key:"render",value:function(){return u.a.createElement("div",{className:"level-edit-container"},u.a.createElement("div",{ref:"pallet",className:"pallet"}),u.a.createElement("canvas",{onClick:this.handlePaint,className:"level-canvas",style:{position:"relative"},ref:"levelCanvas",width:2080,height:2080}),u.a.createElement("button",{onClick:this.saveMap},"Save"))}}]),t}(i.Component)),De=l(74),Be=l(50),Te=(l(341),l(342),Math.floor(window.innerHeight/2)),Re=(i.Component,function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(f.a)(this,Object(v.a)(t).call(this))).state={backgroundColor:"#B8E986",brushColor:"#000",bitmap:[[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,"#000",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]]},e.defaultBitmap(),e}return Object(p.a)(t,e),Object(d.a)(t,[{key:"defaultBitmap",value:function(){for(var e=0;e<20;e++)for(var t=0;t<20;t++)null===this.state.bitmap[t][e]&&(this.state.bitmap[t][e]=this.state.backgroundColor)}},{key:"componentDidMount",value:function(){this.refs.avatarCanvas.width=Te,this.refs.avatarCanvas.height=Te,this.drawContext=this.refs.avatarCanvas.getContext("2d"),this.drawContext.imageSmoothingEnabled=!1,this.drawContext.mozImageSmoothingEnabled=!1,this.pixelWidth=this.refs.avatarCanvas.offsetWidth/20,this.pixelHeight=this.refs.avatarCanvas.offsetHeight/20,this.drawAvatar()}},{key:"drawAvatar",value:function(){for(var e=Te/20,t=0;t<20;t++)for(var l=0;l<20;l++)Le(this.drawContext,l*e,t*e,e,e,this.state.bitmap[l][t])}},{key:"handlePaint",value:function(){}},{key:"render",value:function(){var e=this;return Object(De.a)(this.props),u.a.createElement("div",{className:"avatar-edit-container"},u.a.createElement("p",null,"Background"),u.a.createElement("div",{className:"paint-controls"},u.a.createElement(Be.SketchPicker,{color:this.state.backgroundColor,onChangeComplete:function(t){e.setState({backgroundColor:t.hex}),e.drawAvatar()}}),u.a.createElement("label",null,"Brush"),u.a.createElement(Be.SketchPicker,{color:this.state.brushColor,onChangeComplete:function(t){return e.setState({brushColor:t.hex})}})),u.a.createElement("canvas",{onClick:this.handlePaint,className:"avatar-canvas",ref:"avatarCanvas"}))}}]),t}(i.Component));function Le(e,t,l,n,a,i){e.fillStyle=i,e.beginPath(),e.fillRect(t,l,n,a)}function ze(){return u.a.createElement(o.a,null,u.a.createElement(h.c,null,u.a.createElement(h.a,{path:"/edit-avatar"},u.a.createElement(Re,null)),u.a.createElement(h.a,{path:"/edit-map"},u.a.createElement(Pe,null)),u.a.createElement(h.a,{path:"/"},u.a.createElement(Se,null))))}var He=function(){return u.a.createElement("div",{className:"App"},u.a.createElement(ze,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(u.a.createElement(He,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},49:function(e,t){e.exports="data:image/png;base64,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"}},[[136,1,2]]]);
//# sourceMappingURL=main.17cd73ee.chunk.js.map